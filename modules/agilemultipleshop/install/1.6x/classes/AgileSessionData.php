<?php /*
///-build_id: 2015042222.1245
/// This source file is subject to the Software License Agreement that is bundled with this 
/// package in the file license.txt, or you can get it here
/// http://addons-modules.com/store/en/content/3-terms-and-conditions-of-use
///
/// @copyright  2009-2012 Addons-Modules.com
///
*/
${"G\x4c\x4fB\x41\x4c\x53"}["\x6a\x75c\x62qk\x6d\x6b\x69\x79\x74"]="\x73\x65c";${"\x47\x4cO\x42AL\x53"}["jg\x6e\x6a\x79e\x6b\x69\x68"]="s\x74\x6d\x74";${"\x47\x4c\x4fB\x41LS"}["h\x69usx\x6dk\x76x\x6f"]="\x73q\x6c";${"G\x4c\x4f\x42\x41\x4c\x53"}["\x78\x72\x6a\x65w\x6f"]="d\x61\x74\x61";${"GLOBAL\x53"}["\x69hi\x62s\x6e"]="\x69\x64";${"G\x4c\x4f\x42\x41\x4c\x53"}["\x79\x65\x77x\x65b\x66"]="db";class AgileSessionData{private$dbName=_DB_NAME_;private$dbTable='ps_agile_session';private$db;public function __construct(mysqli$db=null){${"G\x4cO\x42A\x4cS"}["\x68\x6fr\x68\x74\x68\x62\x63y"]="d\x62";if(isset(${${"G\x4cO\x42\x41\x4cS"}["h\x6fr\x68\x74h\x62\x63\x79"]})){$this->db=${${"G\x4c\x4f\x42A\x4c\x53"}["\x79\x65\x77\x78e\x62f"]};}else{$this->db=new mysqli(_DB_SERVER_,_DB_USER_,_DB_PASSWD_);if($this->db->connect_errno){throw new Exception($this->db->connect_error);}}}public function get($id){${"G\x4c\x4f\x42AL\x53"}["\x75\x6ez\x6bt\x6ce\x69\x76\x77"]="\x73ql";$gtulganh="st\x6d\x74";${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x70\x6d\x73w\x62\x70\x71g\x72pr"]="\x73q\x6c";${${"G\x4c\x4f\x42\x41\x4cS"}["pm\x73w\x62\x70q\x67rp\x72"]}="S\x45\x4cE\x43\x54\x20\x60\x64at\x61\x60 \x46RO\x4d\x20`{$this->dbName}\x60.`{$this->dbTable}\x60\x20"."\x57HE\x52\x45\x20\x60\x69\x64\x60\x20=\x20?";if(${$gtulganh}=$this->db->prepare(${${"\x47\x4c\x4f\x42A\x4cS"}["u\x6ez\x6btl\x65iv\x77"]})){if($stmt->bind_param("s",${${"\x47\x4c\x4f\x42\x41L\x53"}["\x69\x68i\x62\x73\x6e"]})){if($stmt->execute()){$yhvvku="\x64\x61\x74\x61";$stmt->bind_result(${$yhvvku});if($stmt->fetch()){return${${"\x47LO\x42\x41\x4c\x53"}["\x78\x72\x6a\x65w\x6f"]};}return"";}error_log($this->stmt->error);}error_log($this->stmt->error);}error_log($this->db->error);return"";}public function set($id,$data){${"G\x4c\x4f\x42ALS"}["\x68\x70\x65f\x63\x6d\x68\x6b\x71\x79"]="s\x71\x6c";${${"GL\x4fB\x41\x4cS"}["hi\x75sx\x6d\x6b\x76\x78\x6f"]}="RE\x50L\x41C\x45 \x49NT\x4f\x20\x60{$this->dbName}\x60\x2e\x60{$this->dbTable}\x60\x20"."(\x60id\x60, \x60d\x61ta`,\x20`\x74\x69me\x60)\x20\x56\x41L\x55\x45S\x20(?, ?,\x20NO\x57())";if(${${"\x47\x4c\x4f\x42\x41\x4c\x53"}["\x6a\x67n\x6aye\x6bi\x68"]}=$this->db->prepare(${${"G\x4c\x4f\x42\x41\x4cS"}["\x68\x70\x65\x66c\x6dhkq\x79"]})){${"\x47L\x4f\x42AL\x53"}["c\x63\x6d\x67\x6e\x64\x66"]="\x69\x64";if($stmt->bind_param("\x73s",${${"\x47\x4c\x4f\x42AL\x53"}["\x63\x63\x6d\x67\x6edf"]},${${"\x47\x4c\x4fB\x41\x4c\x53"}["\x78\x72\x6a\x65\x77\x6f"]})){if($stmt->execute()and$stmt->affected_rows){return true;}else{error_log($stmt->error);}}else{error_log($stmt->error);}}else{error_log($this->db->error);}return false;}public function delete($id){${"\x47\x4cO\x42\x41\x4cS"}["\x71\x64\x69v\x6c\x76wm\x77"]="s\x74\x6d\x74";${${"GL\x4f\x42A\x4c\x53"}["h\x69\x75\x73xmk\x76\x78o"]}="\x44\x45L\x45\x54\x45\x20\x46RO\x4d\x20`{$this->dbName}`.\x60{$this->dbTable}`\x20"."\x57\x48\x45R\x45 \x60\x69d`\x20= ?";if(${${"\x47\x4cOB\x41\x4cS"}["\x71d\x69\x76\x6c\x76\x77\x6d\x77"]}=$this->db->prepare(${${"\x47\x4cOB\x41L\x53"}["\x68i\x75\x73\x78\x6dk\x76\x78\x6f"]})){$umffqebtipv="i\x64";if($stmt->bind_param("\x73",${$umffqebtipv})){if($stmt->execute()){return true;}else{error_log($stmt->error);}}else{error_log($stmt->error);}}else{error_log($this->db->error);}return false;}public function clean($seconds){${"G\x4cO\x42A\x4c\x53"}["\x66r\x68\x75\x67ker\x72\x63\x71c"]="\x73e\x63\x6f\x6e\x64s";$sofkpydrvlq="s\x71\x6c";${${"GL\x4fB\x41L\x53"}["juc\x62\x71km\x6b\x69\x79\x74"]}=(int)${${"\x47\x4c\x4fBA\x4c\x53"}["fr\x68u\x67\x6b\x65\x72\x72\x63q\x63"]};${${"G\x4c\x4f\x42\x41\x4c\x53"}["\x68\x69\x75s\x78\x6d\x6b\x76x\x6f"]}="DEL\x45T\x45\x20\x46\x52OM \x60{$this->dbName}`.\x60{$this->dbTable}` "."\x57\x48\x45R\x45\x20\x60\x74\x69\x6d\x65`\x20<\x20(NOW() - \x49NT\x45\x52VA\x4c $sec\x20\x53\x45\x43ON\x44)";if($this->db->query(${$sofkpydrvlq})){return true;}error_log($this->db->error);return false;}}
?>